2025/02/21 20:30:56 [INFO] Packer version: 1.12.0 [go1.22.9 linux amd64]
2025/02/21 20:30:56 [INFO] PACKER_CONFIG env var not set; checking the default config file path
2025/02/21 20:30:56 [INFO] PACKER_CONFIG env var set; attempting to open config file: /home/shef/.packerconfig
2025/02/21 20:30:56 [WARN] Config file doesn't exist: /home/shef/.packerconfig
2025/02/21 20:30:56 [INFO] Setting cache directory: /home/shef/.cache/packer
2025/02/21 20:30:56 [TRACE] listing potential installations for "github.com/hashicorp/proxmox" that match ">= 1.1.3". plugingetter.ListInstallationsOptions{PluginDirectory:"/home/shef/.config/packer/plugins", BinaryInstallationOptions:plugingetter.BinaryInstallationOptions{APIVersionMajor:"5", APIVersionMinor:"0", OS:"linux", ARCH:"amd64", Ext:"", Checksummers:[]plugingetter.Checksummer{plugingetter.Checksummer{Type:"sha256", Hash:(*sha256.digest)(0xc000772000)}}, ReleasesOnly:false}}
2025/02/21 20:30:56 [TRACE] Found the following "github.com/hashicorp/proxmox" installations: [{/home/shef/.config/packer/plugins/github.com/hashicorp/proxmox/packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64 v1.2.2 x5.0}]
2025/02/21 20:30:56 [INFO] found external [-packer-default-plugin-name- clone iso] builders from proxmox plugin
2025/02/21 20:30:56 plugin "/home/shef/.config/packer/plugins/github.com/hashicorp/proxmox/packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64" does not support Protobuf, forcing use of Gob
2025/02/21 20:30:56 [TRACE] listing potential installations for <nil> that match "". plugingetter.ListInstallationsOptions{PluginDirectory:"/home/shef/.config/packer/plugins", BinaryInstallationOptions:plugingetter.BinaryInstallationOptions{APIVersionMajor:"5", APIVersionMinor:"0", OS:"linux", ARCH:"amd64", Ext:"", Checksummers:[]plugingetter.Checksummer{plugingetter.Checksummer{Type:"sha256", Hash:(*sha256.digest)(0xc0006c4000)}}, ReleasesOnly:false}}
2025/02/21 20:30:56 [INFO] found external [-packer-default-plugin-name- clone iso] builders from proxmox plugin
2025/02/21 20:30:56 [TRACE] validateValue: not active for cloudinit_storage_pool, so skipping
2025/02/21 20:30:56 [TRACE] validateValue: not active for network_vlan, so skipping
2025/02/21 20:30:56 [TRACE] validateValue: not active for proxmox_api_user, so skipping
2025/02/21 20:30:56 [TRACE] validateValue: not active for proxmox_api_password, so skipping
2025/02/21 20:30:56 [TRACE] validateValue: not active for proxmox_node, so skipping
2025/02/21 20:30:56 [TRACE] validateValue: not active for iso_file, so skipping
2025/02/21 20:30:56 [TRACE] validateValue: not active for cores, so skipping
2025/02/21 20:30:56 [TRACE] validateValue: not active for cpu_type, so skipping
2025/02/21 20:30:56 [TRACE] validateValue: not active for machine_type, so skipping
2025/02/21 20:30:56 [TRACE] validateValue: not active for disk_format, so skipping
2025/02/21 20:30:56 [TRACE] validateValue: not active for disk_storage_pool, so skipping
2025/02/21 20:30:56 [TRACE] validateValue: not active for memory, so skipping
2025/02/21 20:30:56 [TRACE] validateValue: not active for disk_size, so skipping
2025/02/21 20:30:56 [TRACE] validateValue: not active for proxmox_host, so skipping
2025/02/21 20:30:56 [INFO] Starting external plugin /home/shef/.config/packer/plugins/github.com/hashicorp/proxmox/packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64 start builder iso
2025/02/21 20:30:56 Starting plugin: /home/shef/.config/packer/plugins/github.com/hashicorp/proxmox/packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64 []string{"/home/shef/.config/packer/plugins/github.com/hashicorp/proxmox/packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64", "start", "builder", "iso"}
2025/02/21 20:30:56 Waiting for RPC address for: /home/shef/.config/packer/plugins/github.com/hashicorp/proxmox/packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64
2025/02/21 20:30:56 packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64 plugin: 2025/02/21 20:30:56 Plugin address: unix /tmp/packer-plugin1097774713
2025/02/21 20:30:56 Received unix RPC address for /home/shef/.config/packer/plugins/github.com/hashicorp/proxmox/packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64: addr is /tmp/packer-plugin1097774713
2025/02/21 20:30:56 packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64 plugin: 2025/02/21 20:30:56 Waiting for connection...
2025/02/21 20:30:56 packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64 plugin: 2025/02/21 20:30:56 Serving a plugin connection...
2025/02/21 20:30:56 packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64 plugin: 2025/02/21 20:30:56 [TRACE] starting builder iso
2025/02/21 20:30:56 [DEBUG] - common: receiving ConfigSpec as gob
2025/02/21 20:30:56 packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64 plugin: 2025/02/21 20:30:56 Disk 0 cache mode not set, using default 'none'
2025/02/21 20:30:56 packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64 plugin: 2025/02/21 20:30:56 Cloud-Init disk type not set, using default 'ide'
2025/02/21 20:30:56 [DEBUG] - common: receiving ConfigSpec as gob
2025/02/21 20:30:56 [INFO] Starting external plugin /usr/bin/packer execute packer-provisioner-file
2025/02/21 20:30:56 Starting plugin: /usr/bin/packer []string{"/usr/bin/packer", "execute", "packer-provisioner-file"}
2025/02/21 20:30:56 Waiting for RPC address for: /usr/bin/packer
2025/02/21 20:30:56 packer-provisioner-file plugin: [INFO] Packer version: 1.12.0 [go1.22.9 linux amd64]
2025/02/21 20:30:56 packer-provisioner-file plugin: [INFO] PACKER_CONFIG env var not set; checking the default config file path
2025/02/21 20:30:56 packer-provisioner-file plugin: [INFO] PACKER_CONFIG env var set; attempting to open config file: /home/shef/.packerconfig
2025/02/21 20:30:56 packer-provisioner-file plugin: [WARN] Config file doesn't exist: /home/shef/.packerconfig
2025/02/21 20:30:56 packer-provisioner-file plugin: [INFO] Setting cache directory: /home/shef/.cache/packer
2025/02/21 20:30:56 Received unix RPC address for /usr/bin/packer: addr is /tmp/packer-plugin2663225426
2025/02/21 20:30:56 packer-provisioner-file plugin: Plugin address: unix /tmp/packer-plugin2663225426
2025/02/21 20:30:56 packer-provisioner-file plugin: Waiting for connection...
2025/02/21 20:30:56 packer-provisioner-file plugin: Serving a plugin connection...
2025/02/21 20:30:56 packer-provisioner-file plugin: [DEBUG] - common: sending ConfigSpec as gob
2025/02/21 20:30:56 [DEBUG] - common: receiving ConfigSpec as gob
2025/02/21 20:30:56 packer-provisioner-file plugin: [DEBUG] - common: sending ConfigSpec as gob
2025/02/21 20:30:56 [DEBUG] - common: receiving ConfigSpec as gob
2025/02/21 20:30:56 ui: [1;32mproxmox-iso.debian: output will be in this color.[0m
2025/02/21 20:30:56 ui: 
2025/02/21 20:30:56 Build debug mode: false
2025/02/21 20:30:56 Force build: false
2025/02/21 20:30:56 On error: 
2025/02/21 20:30:56 Waiting on builds to complete...
2025/02/21 20:30:56 Starting build run: proxmox-iso.debian
2025/02/21 20:30:56 Running builder: proxmox-iso
2025/02/21 20:30:56 [INFO] (telemetry) Starting builder proxmox-iso.debian
2025/02/21 20:30:56 packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64 plugin: 2025/02/21 20:30:56 using password auth
2025/02/21 20:30:57 packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64 plugin: 2025/02/21 20:30:57 No CD files specified. CD disk will not be made.
2025/02/21 20:30:57 packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64 plugin: 2025/02/21 20:30:57 No URLs were provided to Step Download. Continuing...
2025/02/21 20:30:57 packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64 plugin: 2025/02/21 20:30:57 Mapping Disk to scsi0
2025/02/21 20:30:57 packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64 plugin: panic: runtime error: index out of range [1] with length 1
2025/02/21 20:30:57 packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64 plugin: 
2025/02/21 20:30:57 packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64 plugin: goroutine 38 [running]:
2025/02/21 20:30:57 packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64 plugin: github.com/hashicorp/packer-plugin-proxmox/builder/proxmox/common.generateProxmoxDisks({0xc0000b2880, 0x1, 0x5bc930?}, {0xc0000b0b00, 0x1, 0x424fd9?}, {0x0?, 0x0, 0x425045?})
2025/02/21 20:30:57 packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64 plugin: 	github.com/hashicorp/packer-plugin-proxmox/builder/proxmox/common/step_start_vm.go:593 +0x213c
2025/02/21 20:30:57 packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64 plugin: github.com/hashicorp/packer-plugin-proxmox/builder/proxmox/common.(*stepStartVM).Run(0xc00005b060, {0x11a3ab6?, 0xc000300320?}, {0x154b368, 0xc00007af90})
2025/02/21 20:30:57 packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64 plugin: 	github.com/hashicorp/packer-plugin-proxmox/builder/proxmox/common/step_start_vm.go:110 +0x165
2025/02/21 20:30:57 packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64 plugin: github.com/hashicorp/packer-plugin-sdk/multistep.(*BasicRunner).Run(0xc00007bb60, {0x154b5d0, 0xc000300320}, {0x154b368, 0xc00007af90})
2025/02/21 20:30:57 packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64 plugin: 	github.com/hashicorp/packer-plugin-sdk@v0.5.4/multistep/basic_runner.go:73 +0x2be
2025/02/21 20:30:57 packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64 plugin: github.com/hashicorp/packer-plugin-proxmox/builder/proxmox/common.(*Builder).Run(0xc00018b000, {0x154b5d0, 0xc000300320}, {0x1550ad8?, 0xc00007af60}, {0x153f5c0?, 0xc000614d80}, {0x154b368?, 0xc00007af90?})
2025/02/21 20:30:57 packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64 plugin: 	github.com/hashicorp/packer-plugin-proxmox/builder/proxmox/common/builder.go:111 +0xeab
2025/02/21 20:30:57 packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64 plugin: github.com/hashicorp/packer-plugin-proxmox/builder/proxmox/iso.(*Builder).Run(0xc000000000, {0x154b5d0, 0xc000300320}, {0x1550ad8, 0xc00007af60}, {0x153f5c0, 0xc000614d80})
2025/02/21 20:30:57 packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64 plugin: 	github.com/hashicorp/packer-plugin-proxmox/builder/proxmox/iso/builder.go:47 +0x357
2025/02/21 20:30:57 packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64 plugin: github.com/hashicorp/packer-plugin-sdk/rpc.(*BuilderServer).Run(0xc0006d4280, 0x881a20?, 0xc000881a00)
2025/02/21 20:30:57 packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64 plugin: 	github.com/hashicorp/packer-plugin-sdk@v0.5.4/rpc/builder.go:120 +0x1c8
2025/02/21 20:30:57 packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64 plugin: reflect.Value.call({0xc00070c300?, 0xc0001e20c8?, 0x13?}, {0x119d3a6, 0x4}, {0xc0005c1ef8, 0x3, 0x3?})
2025/02/21 20:30:57 packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64 plugin: 	reflect/value.go:596 +0xce7
2025/02/21 20:30:57 packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64 plugin: reflect.Value.Call({0xc00070c300?, 0xc0001e20c8?, 0x0?}, {0xc00002f6f8?, 0x0?, 0x0?})
2025/02/21 20:30:57 packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64 plugin: 	reflect/value.go:380 +0xb9
2025/02/21 20:30:57 packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64 plugin: net/rpc.(*service).call(0xc0006d42c0, 0x0?, 0x0?, 0xc0000b4050, 0xc0001e6180, 0x0?, {0xf9a1c0?, 0xc0008819fc?, 0x0?}, {0xf6afc0, ...}, ...)
2025/02/21 20:30:57 packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64 plugin: 	net/rpc/server.go:382 +0x211
2025/02/21 20:30:57 packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64 plugin: created by net/rpc.(*Server).ServeCodec in goroutine 1
2025/02/21 20:30:57 packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64 plugin: 	net/rpc/server.go:479 +0x410
2025/02/21 20:30:57 [INFO] (telemetry) ending proxmox-iso.debian
2025/02/21 20:30:57 ui error: [1;31mBuild 'proxmox-iso.debian' errored after 81 milliseconds 300 microseconds: unexpected EOF[0m
2025/02/21 20:30:57 /home/shef/.config/packer/plugins/github.com/hashicorp/proxmox/packer-plugin-proxmox_v1.2.2_x5.0_linux_amd64: plugin process exited
2025/02/21 20:30:57 ui: 
==> Wait completed after 81 milliseconds 347 microseconds
2025/02/21 20:30:57 machine readable: error-count []string{"1"}
2025/02/21 20:30:57 ui error: 
==> Some builds didn't complete successfully and had errors:
2025/02/21 20:30:57 machine readable: proxmox-iso.debian,error []string{"unexpected EOF"}
2025/02/21 20:30:57 ui error: --> proxmox-iso.debian: unexpected EOF
2025/02/21 20:30:57 ui: 
==> Builds finished but no artifacts were created.
2025/02/21 20:30:57 [INFO] (telemetry) Finalizing.
2025/02/21 20:30:57 waiting for all plugin processes to complete...
2025/02/21 20:30:57 /usr/bin/packer: plugin process exited
